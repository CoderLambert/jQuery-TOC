/*!
 * jQuery-TOC
 * Table of Contents Generator Plugin for (non-)jQuery
 * 
 * @author  
 * @version 0.0.1
 * Copyright 2015. MIT licensed.
 */
!function(e){"function"==typeof define&&define.amd?define("jquery.toc",["jquery"],e):e(jQuery)}(function(e){"use strict";var n=function(e){if("string"!=typeof e)return 0;var n=e.match(/\d/g);return n?Math.min.apply(null,n):1},t=function(n,t){for(;t--;)n=e("<ol/>").appendTo(n);return n},r=function(e,n){return 0>n?r(e.parent(),n+1):n>0?t(e,n):e.parent()},o=function(e,n){return function(t,r,o){var i=t.text(),c=n+"-"+o;r.text(i);var f=t[0],a=r[0],u=e?c:f.id||c;u=encodeURIComponent(u),f.id=u,a.href="#"+u}},i=function(t){var i=t.selector,c=t.scope,f=e("<ol/>"),a=f,u=n(i),p=o(t.overwrite,t.prefix);return e(c).find(i).each(function(t,o){var i=n(o.tagName),c=i-u,h=e("<li/>"),s=e("<a/>"),d=r(a,c);d.length||(d=f),p(e(o),s,t),h.append(s).appendTo(d),a=h,u=i}),f};e.fn.initTOC=function(n){var t={selector:"h1, h2, h3, h4, h5, h6",scope:"body",overwrite:!1,prefix:"toc"};n=e.extend(t,n);var r=n.selector;if("string"!=typeof r)throw new TypeError("selector must be a string");if(!r.match(/^(?:h[1-6],?\s*)*$/g))throw new TypeError("selector must contains only h1-6");return e(this).append(i(n)),e(this)}});